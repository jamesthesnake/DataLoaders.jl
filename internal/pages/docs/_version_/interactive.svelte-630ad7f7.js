import{S as G,i as U,s as B,F as we,e as p,w as T,k as H,c as w,a as b,x as $,d as _,m as L,b as v,P as N,g as I,J as g,y as S,Q as K,G as be,H as Ie,I as ke,q as k,o as y,B as C,r as J,N as ye,D as ee,Z as Ee,l as M,z as De,A as Ve,f as te,n as le,_ as Ae,p as se,$ as Pe,O as Te,v as ne,C as $e,a0 as Se,a1 as re,a2 as oe,a3 as Ce,t as O,h as W,j as ae,a4 as ie,a5 as ce,K as ue,a6 as de,a7 as Oe,a8 as We,a9 as je}from"../../../chunks/vendor-f09d08fb.js";import{c as qe,a as fe,b as He,d as Le,I as he,C as Ne,D as ze,R as _e,V as Re,e as Je}from"../../../chunks/config-a985ffc1.js";import{D as Me,a as me,H as Fe,b as Ge}from"../../../chunks/documentloader-a696cf7c.js";function Ue(a){let e,l,t,s,n,o,r,f,i;t=new Me({props:{title:a[3]}});const d=a[7].default,u=we(d,a,a[6],null);return{c(){e=p("div"),l=p("div"),T(t.$$.fragment),s=H(),n=p("div"),u&&u.c(),this.h()},l(c){e=w(c,"DIV",{class:!0,style:!0});var h=b(e);l=w(h,"DIV",{class:!0});var A=b(l);$(t.$$.fragment,A),A.forEach(_),s=L(h),n=w(h,"DIV",{class:!0,style:!0});var D=b(n);u&&u.l(D),D.forEach(_),h.forEach(_),this.h()},h(){v(l,"class","titlebar svelte-1tg6it9"),N(l,"collapsed",!a[2]),v(n,"class","document d svelte-1tg6it9"),v(n,"style",o=a[2]?"opacity: 0;":"opacity: 1;"),v(e,"class","viewer v svelte-1tg6it9"),v(e,"style",a[4]),N(e,"overlapped",a[1]),N(e,"collapsed",a[2])},m(c,h){I(c,e,h),g(e,l),S(t,l,null),g(e,s),g(e,n),u&&u.m(n,null),r=!0,f||(i=K(l,"click",a[8]),f=!0)},p(c,[h]){const A={};h&8&&(A.title=c[3]),t.$set(A),h&4&&N(l,"collapsed",!c[2]),u&&u.p&&(!r||h&64)&&be(u,d,c,c[6],r?ke(d,c[6],h,null):Ie(c[6]),null),(!r||h&4&&o!==(o=c[2]?"opacity: 0;":"opacity: 1;"))&&v(n,"style",o),(!r||h&16)&&v(e,"style",c[4]),h&2&&N(e,"overlapped",c[1]),h&4&&N(e,"collapsed",c[2])},i(c){r||(k(t.$$.fragment,c),k(u,c),r=!0)},o(c){y(t.$$.fragment,c),y(u,c),r=!1},d(c){c&&_(e),C(t),u&&u.d(c),f=!1,i()}}}function Be(a,e,l){let{$$slots:t={},$$scope:s}=e,{column:n=0}=e,{overlapped:o=!1}=e,{collapsed:r=!1}=e,{title:f}=e,{style:i}=e;J(qe,n);const d=ye(fe),u=c=>d.scrollTo(n);return a.$$set=c=>{"column"in c&&l(0,n=c.column),"overlapped"in c&&l(1,o=c.overlapped),"collapsed"in c&&l(2,r=c.collapsed),"title"in c&&l(3,f=c.title),"style"in c&&l(4,i=c.style),"$$scope"in c&&l(6,s=c.$$scope)},[n,o,r,f,i,d,s,t,u]}class Ke extends G{constructor(e){super();U(this,e,Be,Ue,B,{column:0,overlapped:1,collapsed:2,title:3,style:4})}}class Qe{constructor(e,l){this.viewerWidth=650,this.elemAttrs=ee({scroll:0,size:2*this.viewerWidth}),this.documentIds=ee(e),this.viewerWidth=l,this.viewerProps=this.makeViewerPropsStore()}connect(e){this.elem=e,this.updateElemAttrs()}updateElemAttrs(){this.elemAttrs.set({scroll:this.elem.scrollLeft,size:this.elem.clientWidth})}openDocument(e,l,t=!1){this.documentIds.update(s=>s.includes(e)?s:[...s.slice(0,l),e,...t?s.slice(l):[]])}scrollToDocument(e){this.documentIds.update(l=>{if(l.includes(e)){const t=l.findIndex(s=>s==e);this.scrollTo(t)}return l})}closeDocument(e){this.documentIds.update(l=>{if(l.includes(e)){const t=l.findIndex(s=>s==e);return[...l.slice(0,t),...l.slice(t+1)]}return l})}scrollTo(e){this.elem.scrollTo({left:e*this.viewerWidth+e*40})}makeViewerPropsStore(){return Ee([this.elemAttrs,this.documentIds],([{scroll:e,size:l},t])=>{const s=this.viewerWidth,n=t.length,o=40;return t.map((r,f)=>{const i=He(f,s,l,e);return{style:`width: ${s}px; max-width: ${s}px; left:${f*o}px ;right:${-s+o*(n-f)}px;`,documentId:r,overlapped:i<s,collapsed:i<=2*o,column:f}})})}}function ve(a,e,l){const t=a.slice();t[10]=e[l],t[14]=l;const s=t[10].documentId;t[11]=s;const n=t[1].getTitle(t[11]);return t[12]=n,t}function Ze(a){let e,l,t,s={ctx:a,current:null,token:null,hasCatch:!0,pending:tt,then:et,catch:Ye,value:15,error:16,blocks:[,,,]};return oe(l=a[1].load(a[11]),s),{c(){e=M(),s.block.c()},l(n){e=M(),s.block.l(n)},m(n,o){I(n,e,o),s.block.m(n,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(n,o){a=n,s.ctx=a,o&18&&l!==(l=a[1].load(a[11]))&&oe(l,s)||Ce(s,a,o)},i(n){t||(k(s.block),t=!0)},o(n){for(let o=0;o<3;o+=1){const r=s.blocks[o];y(r)}t=!1},d(n){n&&_(e),s.block.d(n),s.token=null,s=null}}}function Xe(a){let e,l;return e=new me({props:{views:he,document:a[1].get(a[11])}}),{c(){T(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,s){S(e,t,s),l=!0},p(t,s){const n={};s&18&&(n.document=t[1].get(t[11])),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function Ye(a){let e,l,t,s;return t=new Ne({props:{$$slots:{default:[xe]},$$scope:{ctx:a}}}),{c(){e=p("p"),l=O("An error occured while loading this document: "),T(t.$$.fragment)},l(n){e=w(n,"P",{});var o=b(e);l=W(o,"An error occured while loading this document: "),$(t.$$.fragment,o),o.forEach(_)},m(n,o){I(n,e,o),g(e,l),S(t,e,null),s=!0},p(n,o){const r={};o&131090&&(r.$$scope={dirty:o,ctx:n}),t.$set(r)},i(n){s||(k(t.$$.fragment,n),s=!0)},o(n){y(t.$$.fragment,n),s=!1},d(n){n&&_(e),C(t)}}}function xe(a){let e=a[11]+"",l,t,s=JSON.stringify(a[16])+"",n;return{c(){l=O(e),t=O(", "),n=O(s)},l(o){l=W(o,e),t=W(o,", "),n=W(o,s)},m(o,r){I(o,l,r),I(o,t,r),I(o,n,r)},p(o,r){r&16&&e!==(e=o[11]+"")&&ae(l,e),r&18&&s!==(s=JSON.stringify(o[16])+"")&&ae(n,s)},d(o){o&&_(l),o&&_(t),o&&_(n)}}}function et(a){let e,l,t,s;return l=new me({props:{document:a[15],views:he}}),{c(){e=p("div"),T(l.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var o=b(e);$(l.$$.fragment,o),o.forEach(_),this.h()},h(){v(e,"class","loadeddocument")},m(n,o){I(n,e,o),S(l,e,null),s=!0},p(n,o){const r={};o&18&&(r.document=n[15]),l.$set(r)},i(n){s||(k(l.$$.fragment,n),t||ie(()=>{t=ce(e,de,{duration:80}),t.start()}),s=!0)},o(n){y(l.$$.fragment,n),s=!1},d(n){n&&_(e),C(l)}}}function tt(a){let e,l,t;return{c(){e=p("p"),l=O("Loading")},l(s){e=w(s,"P",{});var n=b(e);l=W(n,"Loading"),n.forEach(_)},m(s,n){I(s,e,n),g(e,l)},p:ue,i(s){t||ie(()=>{t=ce(e,de,{duration:2e3}),t.start()})},o:ue,d(s){s&&_(e)}}}function lt(a){let e,l,t,s,n;const o=[Xe,Ze],r=[];function f(i,d){return d&18&&(e=null),e==null&&(e=!!i[1].hasDocument(i[11])),e?0:1}return l=f(a,-1),t=r[l]=o[l](a),{c(){t.c(),s=H()},l(i){t.l(i),s=L(i)},m(i,d){r[l].m(i,d),I(i,s,d),n=!0},p(i,d){let u=l;l=f(i,d),l===u?r[l].p(i,d):(le(),y(r[u],1,1,()=>{r[u]=null}),se(),t=r[l],t?t.p(i,d):(t=r[l]=o[l](i),t.c()),k(t,1),t.m(s.parentNode,s))},i(i){n||(k(t),n=!0)},o(i){y(t),n=!1},d(i){r[l].d(i),i&&_(s)}}}function ge(a,e){let l,t,s;const n=[e[10],{title:e[12]}];let o={$$slots:{default:[lt]},$$scope:{ctx:e}};for(let r=0;r<n.length;r+=1)o=$e(o,n[r]);return t=new Ke({props:o}),{key:a,first:null,c(){l=M(),T(t.$$.fragment),this.h()},l(r){l=M(),$(t.$$.fragment,r),this.h()},h(){this.first=l},m(r,f){I(r,l,f),S(t,r,f),s=!0},p(r,f){e=r;const i=f&18?De(n,[f&16&&Ve(e[10]),{title:e[12]}]):{};f&131090&&(i.$$scope={dirty:f,ctx:e}),t.$set(i)},i(r){s||(k(t.$$.fragment,r),s=!0)},o(r){y(t.$$.fragment,r),s=!1},d(r){r&&_(l),C(t,r)}}}function st(a){let e,l,t=[],s=new Map,n,o,r,f=a[4];const i=d=>d[10].documentId;for(let d=0;d<f.length;d+=1){let u=ve(a,f,d),c=i(u);s.set(c,t[d]=ge(c,u))}return{c(){e=p("div"),l=p("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=w(d,"DIV",{class:!0});var u=b(e);l=w(u,"DIV",{class:!0,style:!0});var c=b(l);for(let h=0;h<t.length;h+=1)t[h].l(c);c.forEach(_),u.forEach(_),this.h()},h(){v(l,"class","inner viewers svelte-fi98vs"),te(l,"width",a[0]*a[4].length+"px"),v(e,"class","outer svelte-fi98vs")},m(d,u){I(d,e,u),g(e,l);for(let c=0;c<t.length;c+=1)t[c].m(l,null);a[9](e),n=!0,o||(r=[K(window,"resize",a[7]),K(e,"scroll",a[8])],o=!0)},p(d,[u]){u&18&&(f=d[4],le(),t=Ae(t,u,i,1,d,f,s,l,Se,ge,null,ve),se()),(!n||u&17)&&te(l,"width",d[0]*d[4].length+"px")},i(d){if(!n){for(let u=0;u<f.length;u+=1)k(t[u]);n=!0}},o(d){for(let u=0;u<t.length;u+=1)y(t[u]);n=!1},d(d){d&&_(e);for(let u=0;u<t.length;u+=1)t[u].d();a[9](null),o=!1,Pe(r)}}}function nt(a,e,l){let t,{documentIds:s=[]}=e,{viewerwidth:n=700}=e,{loader:o}=e;const r=new Qe(s,n),f=r.viewerProps;Te(a,f,h=>l(4,t=h)),J(fe,r),J(Le,!0);let i;ne(()=>{r.connect(i)});const d=h=>r.updateElemAttrs(),u=h=>r.updateElemAttrs();function c(h){re[h?"unshift":"push"](()=>{i=h,l(3,i)})}return a.$$set=h=>{"documentIds"in h&&l(6,s=h.documentIds),"viewerwidth"in h&&l(0,n=h.viewerwidth),"loader"in h&&l(1,o=h.loader)},[n,o,r,i,t,f,s,d,u,c]}class rt extends G{constructor(e){super();U(this,e,nt,st,B,{documentIds:6,viewerwidth:0,loader:1,viewcontrol:2})}get viewcontrol(){return this.$$.ctx[2]}}function ot(a){if(window&&history){const e=new URLSearchParams;a.forEach(t=>{e.append("id",t)});const l=a.length>0?"?"+e.toString():"";history.pushState(null,"",l)}}function at(a){let e,l,t,s,n,o,r,f,i,d,u,c,h,A,D,j,F,z,q;document.title=e=_e,s=new Ge({props:{viewcontrol:a[2],loader:a[1],isInteractive:!0}}),s.$on("resultSelected",a[3]);function pe(m){a[5](m)}let Q={documentIds:a[0],loader:a[1],viewerwidth:Re};return a[2]!==void 0&&(Q.viewcontrol=a[2]),r=new rt({props:Q}),re.push(()=>Oe(r,"viewcontrol",pe)),{c(){l=H(),t=p("div"),T(s.$$.fragment),n=H(),o=p("div"),T(r.$$.fragment),i=H(),d=p("div"),u=p("div"),c=p("p"),h=O("On a small screen, we recommend using the single-page viewer."),A=H(),D=p("a"),j=p("div"),F=O("Open in single-page viewer"),this.h()},l(m){We('[data-svelte="svelte-8a7s9"]',document.head).forEach(_),l=L(m),t=w(m,"DIV",{class:!0});var V=b(t);$(s.$$.fragment,V),n=L(V),o=w(V,"DIV",{class:!0});var P=b(o);$(r.$$.fragment,P),P.forEach(_),i=L(V),d=w(V,"DIV",{class:!0});var Z=b(d);u=w(Z,"DIV",{class:!0});var R=b(u);c=w(R,"P",{class:!0});var X=b(c);h=W(X,"On a small screen, we recommend using the single-page viewer."),X.forEach(_),A=L(R),D=w(R,"A",{href:!0});var Y=b(D);j=w(Y,"DIV",{class:!0});var x=b(j);F=W(x,"Open in single-page viewer"),x.forEach(_),Y.forEach(_),R.forEach(_),Z.forEach(_),V.forEach(_),this.h()},h(){v(o,"class","interactive flex-grow items-stretch overflow-auto hidden md:flex"),v(c,"class","text-center text-gray-700"),v(j,"class","border-bluegray-200 text-bluegray-500 items-stretch grow bg-bluegray-100 border-2 p-1 rounded-lg text-center mt-8 hover:border-bluegray-300 hover:text-bluegray-700 hover:bg-bluegray-200"),v(D,"href",z=a[1].getHref(a[0][0])),v(u,"class","max-w-sm m-auto mt-10"),v(d,"class","flex md:hidden items-center"),v(t,"class","flex flex-col lg:flex-row max-w-full wrapper svelte-j761q5")},m(m,E){I(m,l,E),I(m,t,E),S(s,t,null),g(t,n),g(t,o),S(r,o,null),g(t,i),g(t,d),g(d,u),g(u,c),g(c,h),g(u,A),g(u,D),g(D,j),g(j,F),q=!0},p(m,[E]){(!q||E&0)&&e!==(e=_e)&&(document.title=e);const V={};E&4&&(V.viewcontrol=m[2]),E&2&&(V.loader=m[1]),s.$set(V);const P={};E&1&&(P.documentIds=m[0]),E&2&&(P.loader=m[1]),!f&&E&4&&(f=!0,P.viewcontrol=m[2],je(()=>f=!1)),r.$set(P),(!q||E&3&&z!==(z=m[1].getHref(m[0][0])))&&v(D,"href",z)},i(m){q||(k(s.$$.fragment,m),k(r.$$.fragment,m),q=!0)},o(m){y(s.$$.fragment,m),y(r.$$.fragment,m),q=!1},d(m){m&&_(l),m&&_(t),C(s),C(r)}}}const ft=!1;async function ht({url:a,fetch:e,params:l}){const{version:t}=l;let s=a.searchParams.getAll("id");s=s.length>0?s:[ze];const n=s[0],o=await e("/config").then(i=>i.json()),r=new Fe(o.basePath,t);r.fetch=e,r.load("attributes"),r.load("linktree");const f={loader:r,documentIds:s};return await r.load(n).then(i=>(f.error=!1,{props:f})).catch(i=>(f.error=i,{props:f}))}function it(a,e,l){let{documentIds:t}=e,{loader:s}=e,{error:n}=e;console.log(n),J(Je,s);let o;ne(()=>{o.documentIds.subscribe(ot)});function r({detail:i}){o.documentIds.set([i])}function f(i){o=i,l(2,o)}return a.$$set=i=>{"documentIds"in i&&l(0,t=i.documentIds),"loader"in i&&l(1,s=i.loader),"error"in i&&l(4,n=i.error)},[t,s,o,r,n,f]}class _t extends G{constructor(e){super();U(this,e,it,at,B,{documentIds:0,loader:1,error:4})}}export{_t as default,ht as load,ft as prerender};
