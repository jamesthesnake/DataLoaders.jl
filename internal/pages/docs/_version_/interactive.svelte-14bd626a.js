import{S as F,i as G,s as B,F as we,e as g,w as T,k as R,c as w,a as b,x as P,d as h,m as j,b as v,P as q,g as I,J as p,y as S,Q as K,G as be,H as Ie,I as ke,q as y,o as E,B as C,r as J,N as ye,D as ee,Z as Ee,l as M,z as De,A as Ve,f as te,n as le,_ as $e,p as se,$ as Ae,O as Te,v as ne,C as Pe,a0 as Se,a1 as re,a2 as oe,a3 as Ce,t as O,h as W,j as ae,a4 as ie,a5 as ce,K as ue,a6 as de,a7 as Oe,a8 as We,a9 as Le}from"../../../chunks/vendor-f09d08fb.js";import{b as Ne}from"../../../chunks/paths-4b3c6e7e.js";import{c as Re,a as fe,b as je,d as qe,I as me,C as He,R as he,V as ze,e as Je,D as Me}from"../../../chunks/config-a985ffc1.js";import{D as Ue,a as _e,H as Fe,b as Ge}from"../../../chunks/documentloader-213bad80.js";function Be(a){let e,l,t,s,n,r,o,f,u;t=new Ue({props:{title:a[3]}});const d=a[7].default,c=we(d,a,a[6],null);return{c(){e=g("div"),l=g("div"),T(t.$$.fragment),s=R(),n=g("div"),c&&c.c(),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var m=b(e);l=w(m,"DIV",{class:!0});var $=b(l);P(t.$$.fragment,$),$.forEach(h),s=j(m),n=w(m,"DIV",{class:!0,style:!0});var V=b(n);c&&c.l(V),V.forEach(h),m.forEach(h),this.h()},h(){v(l,"class","titlebar svelte-1tg6it9"),q(l,"collapsed",!a[2]),v(n,"class","document d svelte-1tg6it9"),v(n,"style",r=a[2]?"opacity: 0;":"opacity: 1;"),v(e,"class","viewer v svelte-1tg6it9"),v(e,"style",a[4]),q(e,"overlapped",a[1]),q(e,"collapsed",a[2])},m(i,m){I(i,e,m),p(e,l),S(t,l,null),p(e,s),p(e,n),c&&c.m(n,null),o=!0,f||(u=K(l,"click",a[8]),f=!0)},p(i,[m]){const $={};m&8&&($.title=i[3]),t.$set($),m&4&&q(l,"collapsed",!i[2]),c&&c.p&&(!o||m&64)&&be(c,d,i,i[6],o?ke(d,i[6],m,null):Ie(i[6]),null),(!o||m&4&&r!==(r=i[2]?"opacity: 0;":"opacity: 1;"))&&v(n,"style",r),(!o||m&16)&&v(e,"style",i[4]),m&2&&q(e,"overlapped",i[1]),m&4&&q(e,"collapsed",i[2])},i(i){o||(y(t.$$.fragment,i),y(c,i),o=!0)},o(i){E(t.$$.fragment,i),E(c,i),o=!1},d(i){i&&h(e),C(t),c&&c.d(i),f=!1,u()}}}function Ke(a,e,l){let{$$slots:t={},$$scope:s}=e,{column:n=0}=e,{overlapped:r=!1}=e,{collapsed:o=!1}=e,{title:f}=e,{style:u}=e;J(Re,n);const d=ye(fe),c=i=>d.scrollTo(n);return a.$$set=i=>{"column"in i&&l(0,n=i.column),"overlapped"in i&&l(1,r=i.overlapped),"collapsed"in i&&l(2,o=i.collapsed),"title"in i&&l(3,f=i.title),"style"in i&&l(4,u=i.style),"$$scope"in i&&l(6,s=i.$$scope)},[n,r,o,f,u,d,s,t,c]}class Qe extends F{constructor(e){super();G(this,e,Ke,Be,B,{column:0,overlapped:1,collapsed:2,title:3,style:4})}}class Ze{constructor(e,l){this.viewerWidth=650,this.elemAttrs=ee({scroll:0,size:2*this.viewerWidth}),this.documentIds=ee(e),this.viewerWidth=l,this.viewerProps=this.makeViewerPropsStore()}connect(e){this.elem=e,this.updateElemAttrs()}updateElemAttrs(){this.elemAttrs.set({scroll:this.elem.scrollLeft,size:this.elem.clientWidth})}openDocument(e,l,t=!1){this.documentIds.update(s=>s.includes(e)?s:[...s.slice(0,l),e,...t?s.slice(l):[]])}scrollToDocument(e){this.documentIds.update(l=>{if(l.includes(e)){const t=l.findIndex(s=>s==e);this.scrollTo(t)}return l})}closeDocument(e){this.documentIds.update(l=>{if(l.includes(e)){const t=l.findIndex(s=>s==e);return[...l.slice(0,t),...l.slice(t+1)]}return l})}scrollTo(e){this.elem.scrollTo({left:e*this.viewerWidth+e*40})}makeViewerPropsStore(){return Ee([this.elemAttrs,this.documentIds],([{scroll:e,size:l},t])=>{const s=this.viewerWidth,n=t.length,r=40;return t.map((o,f)=>{const u=je(f,s,l,e);return{style:`width: ${s}px; max-width: ${s}px; left:${f*r}px ;right:${-s+r*(n-f)}px;`,documentId:o,overlapped:u<s,collapsed:u<=2*r,column:f}})})}}function ve(a,e,l){const t=a.slice();t[10]=e[l],t[14]=l;const s=t[10].documentId;t[11]=s;const n=t[1].getTitle(t[11]);return t[12]=n,t}function Xe(a){let e,l,t,s={ctx:a,current:null,token:null,hasCatch:!0,pending:lt,then:tt,catch:xe,value:15,error:16,blocks:[,,,]};return oe(l=a[1].load(a[11]),s),{c(){e=M(),s.block.c()},l(n){e=M(),s.block.l(n)},m(n,r){I(n,e,r),s.block.m(n,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(n,r){a=n,s.ctx=a,r&18&&l!==(l=a[1].load(a[11]))&&oe(l,s)||Ce(s,a,r)},i(n){t||(y(s.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const o=s.blocks[r];E(o)}t=!1},d(n){n&&h(e),s.block.d(n),s.token=null,s=null}}}function Ye(a){let e,l;return e=new _e({props:{views:me,document:a[1].get(a[11])}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,s){S(e,t,s),l=!0},p(t,s){const n={};s&18&&(n.document=t[1].get(t[11])),e.$set(n)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){E(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function xe(a){let e,l,t,s;return t=new He({props:{$$slots:{default:[et]},$$scope:{ctx:a}}}),{c(){e=g("p"),l=O("An error occured while loading this document: "),T(t.$$.fragment)},l(n){e=w(n,"P",{});var r=b(e);l=W(r,"An error occured while loading this document: "),P(t.$$.fragment,r),r.forEach(h)},m(n,r){I(n,e,r),p(e,l),S(t,e,null),s=!0},p(n,r){const o={};r&131090&&(o.$$scope={dirty:r,ctx:n}),t.$set(o)},i(n){s||(y(t.$$.fragment,n),s=!0)},o(n){E(t.$$.fragment,n),s=!1},d(n){n&&h(e),C(t)}}}function et(a){let e=a[11]+"",l,t,s=JSON.stringify(a[16])+"",n;return{c(){l=O(e),t=O(", "),n=O(s)},l(r){l=W(r,e),t=W(r,", "),n=W(r,s)},m(r,o){I(r,l,o),I(r,t,o),I(r,n,o)},p(r,o){o&16&&e!==(e=r[11]+"")&&ae(l,e),o&18&&s!==(s=JSON.stringify(r[16])+"")&&ae(n,s)},d(r){r&&h(l),r&&h(t),r&&h(n)}}}function tt(a){let e,l,t,s;return l=new _e({props:{document:a[15],views:me}}),{c(){e=g("div"),T(l.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var r=b(e);P(l.$$.fragment,r),r.forEach(h),this.h()},h(){v(e,"class","loadeddocument")},m(n,r){I(n,e,r),S(l,e,null),s=!0},p(n,r){const o={};r&18&&(o.document=n[15]),l.$set(o)},i(n){s||(y(l.$$.fragment,n),t||ie(()=>{t=ce(e,de,{duration:80}),t.start()}),s=!0)},o(n){E(l.$$.fragment,n),s=!1},d(n){n&&h(e),C(l)}}}function lt(a){let e,l,t;return{c(){e=g("p"),l=O("Loading")},l(s){e=w(s,"P",{});var n=b(e);l=W(n,"Loading"),n.forEach(h)},m(s,n){I(s,e,n),p(e,l)},p:ue,i(s){t||ie(()=>{t=ce(e,de,{duration:2e3}),t.start()})},o:ue,d(s){s&&h(e)}}}function st(a){let e,l,t,s,n;const r=[Ye,Xe],o=[];function f(u,d){return d&18&&(e=null),e==null&&(e=!!u[1].hasDocument(u[11])),e?0:1}return l=f(a,-1),t=o[l]=r[l](a),{c(){t.c(),s=R()},l(u){t.l(u),s=j(u)},m(u,d){o[l].m(u,d),I(u,s,d),n=!0},p(u,d){let c=l;l=f(u,d),l===c?o[l].p(u,d):(le(),E(o[c],1,1,()=>{o[c]=null}),se(),t=o[l],t?t.p(u,d):(t=o[l]=r[l](u),t.c()),y(t,1),t.m(s.parentNode,s))},i(u){n||(y(t),n=!0)},o(u){E(t),n=!1},d(u){o[l].d(u),u&&h(s)}}}function pe(a,e){let l,t,s;const n=[e[10],{title:e[12]}];let r={$$slots:{default:[st]},$$scope:{ctx:e}};for(let o=0;o<n.length;o+=1)r=Pe(r,n[o]);return t=new Qe({props:r}),{key:a,first:null,c(){l=M(),T(t.$$.fragment),this.h()},l(o){l=M(),P(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,f){I(o,l,f),S(t,o,f),s=!0},p(o,f){e=o;const u=f&18?De(n,[f&16&&Ve(e[10]),{title:e[12]}]):{};f&131090&&(u.$$scope={dirty:f,ctx:e}),t.$set(u)},i(o){s||(y(t.$$.fragment,o),s=!0)},o(o){E(t.$$.fragment,o),s=!1},d(o){o&&h(l),C(t,o)}}}function nt(a){let e,l,t=[],s=new Map,n,r,o,f=a[4];const u=d=>d[10].documentId;for(let d=0;d<f.length;d+=1){let c=ve(a,f,d),i=u(c);s.set(i,t[d]=pe(i,c))}return{c(){e=g("div"),l=g("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=w(d,"DIV",{class:!0});var c=b(e);l=w(c,"DIV",{class:!0,style:!0});var i=b(l);for(let m=0;m<t.length;m+=1)t[m].l(i);i.forEach(h),c.forEach(h),this.h()},h(){v(l,"class","inner viewers svelte-fi98vs"),te(l,"width",a[0]*a[4].length+"px"),v(e,"class","outer svelte-fi98vs")},m(d,c){I(d,e,c),p(e,l);for(let i=0;i<t.length;i+=1)t[i].m(l,null);a[9](e),n=!0,r||(o=[K(window,"resize",a[7]),K(e,"scroll",a[8])],r=!0)},p(d,[c]){c&18&&(f=d[4],le(),t=$e(t,c,u,1,d,f,s,l,Se,pe,null,ve),se()),(!n||c&17)&&te(l,"width",d[0]*d[4].length+"px")},i(d){if(!n){for(let c=0;c<f.length;c+=1)y(t[c]);n=!0}},o(d){for(let c=0;c<t.length;c+=1)E(t[c]);n=!1},d(d){d&&h(e);for(let c=0;c<t.length;c+=1)t[c].d();a[9](null),r=!1,Ae(o)}}}function rt(a,e,l){let t,{documentIds:s=[]}=e,{viewerwidth:n=700}=e,{loader:r}=e;const o=new Ze(s,n),f=o.viewerProps;Te(a,f,m=>l(4,t=m)),J(fe,o),J(qe,!0);let u;ne(()=>{o.connect(u)});const d=m=>o.updateElemAttrs(),c=m=>o.updateElemAttrs();function i(m){re[m?"unshift":"push"](()=>{u=m,l(3,u)})}return a.$$set=m=>{"documentIds"in m&&l(6,s=m.documentIds),"viewerwidth"in m&&l(0,n=m.viewerwidth),"loader"in m&&l(1,r=m.loader)},[n,r,o,u,t,f,s,d,c,i]}class ot extends F{constructor(e){super();G(this,e,rt,nt,B,{documentIds:6,viewerwidth:0,loader:1,viewcontrol:2})}get viewcontrol(){return this.$$.ctx[2]}}function at(a){if(window&&history){const e=new URLSearchParams;a.forEach(t=>{e.append("id",t)});const l=a.length>0?"?"+e.toString():"";history.pushState(null,"",l)}}function it(a){let e,l,t,s,n,r,o,f,u,d,c,i,m,$,V,L,U,H,N;document.title=e=he,s=new Fe({props:{viewcontrol:a[3],loader:a[1],isInteractive:!0,documentId:a[2][0]}}),s.$on("resultSelected",a[4]);function ge(_){a[5](_)}let Q={documentIds:a[0],loader:a[1],viewerwidth:ze};return a[3]!==void 0&&(Q.viewcontrol=a[3]),o=new ot({props:Q}),re.push(()=>Oe(o,"viewcontrol",ge)),{c(){l=R(),t=g("div"),T(s.$$.fragment),n=R(),r=g("div"),T(o.$$.fragment),u=R(),d=g("div"),c=g("div"),i=g("p"),m=O("On a small screen, we recommend using the single-page viewer."),$=R(),V=g("a"),L=g("div"),U=O("Open in single-page viewer"),this.h()},l(_){We('[data-svelte="svelte-8a7s9"]',document.head).forEach(h),l=j(_),t=w(_,"DIV",{class:!0});var D=b(t);P(s.$$.fragment,D),n=j(D),r=w(D,"DIV",{class:!0});var A=b(r);P(o.$$.fragment,A),A.forEach(h),u=j(D),d=w(D,"DIV",{class:!0});var Z=b(d);c=w(Z,"DIV",{class:!0});var z=b(c);i=w(z,"P",{class:!0});var X=b(i);m=W(X,"On a small screen, we recommend using the single-page viewer."),X.forEach(h),$=j(z),V=w(z,"A",{href:!0});var Y=b(V);L=w(Y,"DIV",{class:!0});var x=b(L);U=W(x,"Open in single-page viewer"),x.forEach(h),Y.forEach(h),z.forEach(h),Z.forEach(h),D.forEach(h),this.h()},h(){v(r,"class","interactive flex-grow items-stretch overflow-auto hidden md:flex"),v(i,"class","text-center text-gray-700"),v(L,"class","border-bluegray-200 text-bluegray-500 items-stretch grow bg-bluegray-100 border-2 p-1 rounded-lg text-center mt-8 hover:border-bluegray-300 hover:text-bluegray-700 hover:bg-bluegray-200"),v(V,"href",H=a[1].getHref(a[2][0])),v(c,"class","max-w-sm m-auto mt-10"),v(d,"class","flex md:hidden items-center"),v(t,"class","flex flex-col lg:flex-row max-w-full wrapper svelte-j761q5")},m(_,k){I(_,l,k),I(_,t,k),S(s,t,null),p(t,n),p(t,r),S(o,r,null),p(t,u),p(t,d),p(d,c),p(c,i),p(i,m),p(c,$),p(c,V),p(V,L),p(L,U),N=!0},p(_,[k]){(!N||k&0)&&e!==(e=he)&&(document.title=e);const D={};k&8&&(D.viewcontrol=_[3]),k&2&&(D.loader=_[1]),k&4&&(D.documentId=_[2][0]),s.$set(D);const A={};k&1&&(A.documentIds=_[0]),k&2&&(A.loader=_[1]),!f&&k&8&&(f=!0,A.viewcontrol=_[3],Le(()=>f=!1)),o.$set(A),(!N||k&6&&H!==(H=_[1].getHref(_[2][0])))&&v(V,"href",H)},i(_){N||(y(s.$$.fragment,_),y(o.$$.fragment,_),N=!0)},o(_){E(s.$$.fragment,_),E(o.$$.fragment,_),N=!1},d(_){_&&h(l),_&&h(t),C(s),C(o)}}}const ht=!0;async function _t({fetch:a,params:e}){console.log("Rendering INTERACTIVE");const{version:l}=e,t=[],s=new Ge(Ne,l);return s.fetch=a,s.attributes=await s.load("attributes"),await s.load("linktree"),{props:{loader:s,documentIds:t}}}function ct(a,e,l){let{documentIds:t}=e,{loader:s}=e;J(Je,s);let n=[Me],r;ne(()=>{let d=new URLSearchParams(window.location.search).getAll("id");l(2,n=d.length>0?d:n),r.documentIds.set(n),r.documentIds.subscribe(at)});function o({detail:u}){r.documentIds.set([u])}function f(u){r=u,l(3,r)}return a.$$set=u=>{"documentIds"in u&&l(0,t=u.documentIds),"loader"in u&&l(1,s=u.loader)},[t,s,n,r,o,f]}class vt extends F{constructor(e){super();G(this,e,ct,it,B,{documentIds:0,loader:1})}}export{vt as default,_t as load,ht as prerender};
